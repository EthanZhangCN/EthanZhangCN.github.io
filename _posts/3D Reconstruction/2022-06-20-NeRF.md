---
layout: post
title: NeRF中体素渲染方程推导
subtitle: 
gh-repo: daattali/beautiful-jekyll
gh-badge: [star, fork, follow]
tags: [Algorithm]
comments: true
---
## 光线模型
[Optical Models for Direct Volume Rendering](https://courses.cs.duke.edu/spring03/cps296.8/papers/max95opticalModelsForDirectVolumeRendering.pdf)


### 1 光线吸收模型
假设一个截面积为$E$ 厚度为$\Delta_s$的圆柱体介质，由N个大小均等半径为$r$的小球组成，小球投影面积$A=\pi r^2$，小球占总体积密度为$\rho$，则有$NA = \rho AE \Delta_s$，假设所有的光线打到小球上都被吸收没有反射与折射，光线被圆柱截面阻挡率（不透明度）为$\frac{NA}{E}= \rho A \Delta_s$。
![1.png](https://github.com/EthanZhangCN/EthanZhangCN.github.io/blob/main/_posts/3D Reconstruction/imgs/1.png)

https://github.com/EthanZhangCN/EthanZhangCN.github.io/blob/main/_posts/2020-02-28-test-markdown.md


当$\Delta_s$无限小时，可以认为小球没有重叠，就可以得到微分方程 , 光通过截面$ds$被吸收率：

<center>$\frac{dI}{ds}=-\rho(s)AI(s)=- \tau(s)I(s)     ---------（1）$ </center>


解以上微分方程（1），具体参考“一阶线性非齐次微分方程”，可以得到：
<center>$I(s) = I_0 e^{(-\int_0^s{\tau(t)dt})}--------------(2)$ </center>

方程（2）表明光线穿透介质厚度为$s$时的光强度，当$s$为$0$时, 即未被介质吸收, 光强为初始光强$I_0$

### 2光线发射模型
